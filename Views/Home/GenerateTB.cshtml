@{
    ViewData["Title"] = "Create Table";
    GeneratedTable myTB = new GeneratedTable();
    GeneratedField myField = new GeneratedField();
}
<script>
    var _fieldcount = 1;
    function AddField() {
        _fieldcount++;
        var oClone = document.getElementById("FieldTemplate").cloneNode(true);
        oClone.id += (_fieldcount + "");
        document.getElementById("FieldPlaceholder").appendChild(oClone);
    }
    
    function SetRedirect(s){
        if(s=="AddTable"){
            var url = @Url.Action("GenerateTB", "Home", new{ nextAction = "AddTable"});
            window.location.href = url;
        }
    }
</script>

<style>
    .StepSection {
        width: 95%;
        background-color: #72ddf7;
        padding: 20px;
        margin: 10px;
        border-radius: 15px;
    }
</style>

@*<%=Html.ActionLink("Next Page >", "SearchResults", new {
    search = this.Model,
    page = 1 //or whatever
}) %>*@

@using (Html.BeginForm("GenerateTB", "Home", new{s= myAction}))
{
    <!-- Database -->
    <div class="StepSection" id="nameDB">
        <h1>Current Database/Project</h1>
        <label>
            DB ID: @ViewBag.DBID
            DB Name: @ViewBag.DBName
        </label>
    </div>

    <!-- Table -->
    <div class="StepSection">
        <h1>Name your Table/Object</h1>
        @Html.TextBoxFor(model => myTB.Name, htmlAttributes: new {@class = "form-control"})
        <br />

        <div id="FieldPlaceholder">
            <div id="FieldTemplate">
                <h3>Enter field data:</h3>
                <label>Field Name:</label>
                @Html.TextBoxFor(model => myField.Name, htmlAttributes: new {@class = "form-control"})
                <label>Field Type:</label>
                @Html.DropDownListFor(model => myField.Datatype, new SelectList(ViewBag.DataTypeOptions), /*"Select from dropdown",*/
            htmlAttributes: new {@class = "form-control"})
                <input type="button" value="Add Another Field" onclick="AddField()" /> <br />
            </div>
        </div>
    </div>

    <br />
    <input type="button" value="Add Another Table" onclick="SetRedirect('AddTable')"/>
    <input type="submit" value="Finish" onsubmit="SetRedirect('Finish')" />
}

<input type="button" value="Back" onclick="history.back()" />


    @*<form asp-action="GetStarted">
    <div asp-validation-summary="ModelOnly" class="text-danger"></div>

    <!-- Name your database -->
    <div class="StepSection" id="nameDB">
    <h1>Name your database/project</h1>
    <label>
    Move to next step if you do not want to create a name.
    The system will use the autogenerated value below:
    </label>
    <div class="form-group">
    <input id="dbNameText" asp-for="Name" class="form-control" type="text" />
    <span asp-validation-for="Name" class="text-danger"></span>
    </div>
    </div>

    <div class="form-group">
    @if (User.Identity.IsAuthenticated)
    {
    <input style="display:none" asp-for="User" class="form-control" type="text" value="@User.Identity.Name" />
    }
    else
    {
    <input style="display:none" asp-for="User" class="form-control" type="text" value="Guest User" />
    }
    </div>
    <div class="form-group">
    <input style="display:none" asp-for="Id" class="form-control" type="text" value="123" />
    </div>

    <input type="submit" value="Continue"/>
    </form>

    <input type="button" value="Back" onclick="history.back()">*@

